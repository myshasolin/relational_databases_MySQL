Представлена база интернет-магазина бизнес-сувениров и подарков **apfy.ru** (all presents for you), занимавшегося в 2016-2021 гг. оптовой и розничной реализацией товаров премиум класса.

В реализованной БД apfy хранится информация о товарах, их характеристиках, фото и описании, категориях, поставщиках, ценах закупки и продажи, складах, заказах и отзывах на товар от покупателей, способах оплаты и доставки.

Особенность структуры магазина, которую поддерживает БД в том, что:
- один и тот же товар может поставляться разными поставщиками по разным ценам и на разные склады
- один заказ может содержать разное количество товаров как одного и того же, так и разных артикулов
- покупатели могут совершать повторные заказы
При наполнении

БД информацией постарался отразить все эти нюансы


**Основное назначение БД – помощь продавцу в реализации товаров, для этой цели представлены следующие инструменты:**
1) ```представление``` – маркетинговый прайс-прайс с колонками скидки на товар в зависимости от ожидаемой суммы оптовой закупки
2) ```представление``` – сводная таблица для анализа продаж – кто купил, что и сколько купил, цена закупки, цена продажи, поставщик, склад
3) ```процедура``` – получить информацию по конкретному заказу
4) ```процедура``` – получить информацию по конкретному покупателю
5) ```процедура``` – генерация подарка за покупку при сумме заказа от 5000 р.
6) ```Процедура с транзакцией```, в рамках которой можно заливать новый товар (товар, характеристики, от какого поставщика, по какой цене, на какой склад и т.п.)
7) ```Триггер для автозаполнения таблицы``` со статусом заказа (автоматически присваивает каждому новому заказу статус «новый»)
8) ```Процедура с транзакцией``` для формирования заказа (проверяет наличие товара на складах, выбирает приоритетный склад или собирает товар с обоих складов, а если у товара разные цены закупки, выбирает ту, что ниже, плюс так же вычитает заказанный товар со складов)

Дальнейшее развитие БД возможно в добавлении информации о логистике (кто доставляет, как, куда, стоимость доставки),  информации для бухгалтерии (дата прихода товара, реализация, налоговая ставка), проработке более глубокой категоризации товаров, добавлении фильтров по характеристикам (материал изготовления, цвет, гарантия и т.п.), добавлении разных плюшек типа рекомендаций товаров.
